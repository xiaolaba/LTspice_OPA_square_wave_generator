Version 4
SHEET 1 948 972
WIRE 432 -400 288 -400
WIRE 576 -400 432 -400
WIRE 288 -352 288 -400
WIRE 432 -352 432 -400
WIRE 576 -352 576 -400
WIRE 288 -240 288 -272
WIRE -768 -224 -816 -224
WIRE -608 -224 -688 -224
WIRE -144 -224 -224 -224
WIRE 16 -224 -64 -224
WIRE 432 -224 432 -272
WIRE 576 -224 576 -272
WIRE 576 -224 432 -224
WIRE 784 -224 576 -224
WIRE -1152 -208 -1168 -208
WIRE -1040 -208 -1152 -208
WIRE -1024 -208 -1040 -208
WIRE -704 -160 -736 -160
WIRE -688 -160 -704 -160
WIRE -1168 -144 -1168 -208
WIRE -736 -128 -736 -160
WIRE 16 -128 16 -224
WIRE 16 -128 -80 -128
WIRE -1024 -112 -1024 -128
WIRE -1008 -112 -1024 -112
WIRE -816 -112 -816 -224
WIRE -816 -112 -928 -112
WIRE -768 -112 -816 -112
WIRE -352 -112 -368 -112
WIRE -224 -112 -224 -224
WIRE -224 -112 -352 -112
WIRE -144 -112 -224 -112
WIRE -1024 -96 -1024 -112
WIRE -928 -96 -928 -112
WIRE -608 -96 -608 -224
WIRE -608 -96 -704 -96
WIRE -48 -96 -80 -96
WIRE -768 -80 -816 -80
WIRE -144 -80 -192 -80
WIRE -368 -64 -368 -112
WIRE -48 -64 -80 -64
WIRE -1168 -32 -1168 -64
WIRE -1168 -32 -1280 -32
WIRE 640 -32 480 -32
WIRE 944 -32 720 -32
WIRE -784 -16 -784 -48
WIRE -736 -16 -736 -64
WIRE -656 -16 -736 -16
WIRE -624 -16 -656 -16
WIRE -928 16 -928 -32
WIRE -816 32 -816 -80
WIRE -768 32 -816 32
WIRE -608 32 -608 -96
WIRE -608 32 -688 32
WIRE -192 32 -192 -80
WIRE -192 32 -272 32
WIRE -144 32 -192 32
WIRE 16 32 16 -128
WIRE 16 32 -64 32
WIRE -1280 48 -1280 -32
WIRE -1168 48 -1168 -32
WIRE -368 48 -368 0
WIRE -816 64 -816 32
WIRE -192 64 -192 32
WIRE 784 64 784 -224
WIRE 784 64 496 64
WIRE 272 112 272 96
WIRE 288 112 288 -176
WIRE 288 112 272 112
WIRE 496 112 496 64
WIRE 512 112 496 112
WIRE 624 128 576 128
WIRE 656 128 624 128
WIRE 784 128 784 64
WIRE 784 128 720 128
WIRE 816 128 784 128
WIRE 944 128 944 -32
WIRE 944 128 880 128
WIRE -272 144 -272 32
WIRE -272 144 -304 144
WIRE 272 144 272 112
WIRE 288 144 272 144
WIRE 480 144 480 32
WIRE 480 144 288 144
WIRE 512 144 480 144
WIRE -848 176 -896 176
WIRE 384 176 352 176
WIRE 416 176 384 176
WIRE -1168 192 -1168 128
WIRE -1120 192 -1168 192
WIRE -816 208 -816 144
WIRE -192 208 -192 144
WIRE 352 208 352 176
WIRE -896 240 -896 176
WIRE 624 240 624 128
WIRE 656 240 624 240
WIRE 624 288 624 240
WIRE 352 336 352 288
WIRE -816 352 -816 272
WIRE 352 432 352 416
WIRE 464 432 352 432
WIRE 544 432 528 432
WIRE 624 432 624 352
WIRE 624 432 544 432
WIRE 352 560 352 432
WIRE 480 560 352 560
WIRE 592 560 544 560
WIRE -288 592 -384 592
WIRE -208 592 -288 592
WIRE -112 592 -208 592
WIRE 96 640 -48 640
WIRE 352 640 352 560
WIRE 480 640 352 640
WIRE 592 640 592 560
WIRE 592 640 560 640
WIRE 32 672 16 672
WIRE -208 688 -208 656
WIRE -288 704 -288 592
WIRE 16 704 16 672
WIRE 352 704 352 640
WIRE 400 704 352 704
WIRE -48 720 -48 640
WIRE -16 720 -48 720
WIRE 592 720 592 640
WIRE 592 720 464 720
WIRE 608 720 592 720
WIRE 736 720 688 720
WIRE 832 720 736 720
WIRE 96 736 96 640
WIRE 96 736 48 736
WIRE 176 736 96 736
WIRE 288 736 288 144
WIRE 288 736 176 736
WIRE 400 736 288 736
WIRE -112 752 -112 672
WIRE -16 752 -112 752
WIRE 288 768 288 736
WIRE 16 800 16 768
WIRE -288 816 -288 784
WIRE -288 816 -384 816
WIRE -112 816 -112 752
WIRE 736 816 736 784
WIRE 288 880 288 832
WIRE -112 912 -112 896
WIRE -112 912 -384 912
WIRE -112 928 -112 912
FLAG -704 -160 vcc
FLAG -1152 -208 vcc
FLAG 288 880 0
FLAG -112 928 0
FLAG -288 592 vcc
FLAG 384 176 vcc
FLAG 736 816 0
FLAG 832 720 TER2
FLAG -208 688 0
FLAG -384 592 TER1
FLAG -384 816 TER4
FLAG -384 912 TER3
FLAG -816 352 0
FLAG -928 16 0
FLAG -1280 48 0
FLAG -1120 192 vee
FLAG -784 -16 0
FLAG -656 -16 vee
FLAG -608 -96 output
FLAG -192 208 0
FLAG -368 48 0
FLAG 16 -128 output_lm324
FLAG -1024 -16 0
FLAG 176 736 Vref
FLAG -1040 -208 vcc
FLAG -48 -64 vcc
FLAG -1024 -112 vcc_half
FLAG -48 -96 0
FLAG -352 -112 vc8
FLAG -928 -112 vc4
FLAG -896 240 0
FLAG 16 800 0
FLAG 32 672 vcc
FLAG -304 144 vcc_half
SYMBOL Opamps\\LT1179 544 64 R0
SYMATTR InstName U2
SYMBOL Opamps\\LT1179 432 656 R0
SYMATTR InstName U3
SYMBOL Opamps\\LT1179 16 672 R0
SYMATTR InstName U4
SYMBOL res -672 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 20k
SYMBOL res -672 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL voltage -1168 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value +5v
SYMBOL diode 656 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 816 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL diode 640 352 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL res 736 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 150
SYMBOL cap 464 -32 R0
SYMATTR InstName C5
SYMATTR Value 10µF
SYMBOL res -128 800 R0
SYMATTR InstName R3
SYMATTR Value 16k
SYMBOL res -128 576 R0
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL cap 272 768 R0
SYMATTR InstName C6
SYMATTR Value 1µF
SYMBOL cap -224 592 R0
SYMATTR InstName C1
SYMATTR Value 0.1µf
SYMBOL res 336 320 R0
SYMATTR InstName R14
SYMATTR Value 8k2
SYMBOL res 336 192 R0
SYMATTR InstName R1
SYMATTR Value 110k
SYMBOL res 560 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 20k
SYMBOL res 704 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 3k
SYMBOL res 576 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 110k
SYMBOL cap 544 544 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 100pf
SYMBOL cap 720 720 R0
SYMATTR InstName C2
SYMATTR Value 10µF
SYMBOL res -304 688 R0
SYMATTR InstName R4
SYMATTR Value 41k
SYMBOL cap 272 -240 R0
SYMATTR InstName C3
SYMATTR Value 1µF
SYMBOL res 272 -368 R0
SYMATTR InstName R19
SYMATTR Value 300
SYMBOL res 416 -368 R0
SYMATTR InstName R8
SYMATTR Value 500k
SYMBOL res 560 -368 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res -832 48 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL cap -944 -96 R0
SYMATTR InstName C4
SYMATTR Value 1µF
SYMBOL voltage -1168 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 4v
SYMBOL Opamps\\LT1006 -736 -160 R0
SYMATTR InstName U5
SYMBOL AutoGenerated\\LM324 -112 -96 M180
SYMATTR InstName U1
SYMBOL res -48 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 20k
SYMBOL res -48 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res -208 48 R0
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL cap -384 -64 R0
SYMATTR InstName C8
SYMATTR Value 1µf
SYMBOL res -1040 -112 R0
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL res -1040 -224 R0
SYMATTR InstName R20
SYMATTR Value 10k
SYMBOL cap -832 208 R0
SYMATTR InstName C9
SYMATTR Value 1µf
TEXT -1274 300 Left 2 !.tran 1s
TEXT -984 408 Left 2 ;OPA square wave oscillator\nby xiaolaba\n2025-MAY-04
TEXT -992 -368 Left 2 ;LT1006 is single supply OPA\nbut single 5V has no square wave oputput\ndual power supply vcc & vee must be, why ?
TEXT -328 -360 Left 2 ;Dual sypply OPA used with single voltage supply\nOPA +IN must be pull up to 1/2 rail voltage\n2025-MAY-05
TEXT -8 840 Left 2 ;voltage follower
TEXT -784 304 Left 2 ;c9 is a must with this single supply opa
TEXT -1272 216 Left 2 ;vee = -5v, it does not work.
